<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>عرض أسعار العملات - مثل TradingView</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0b1a2a;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border-bottom: 1px solid #1a3a5f;
        }
        
        h1 {
            color: #00d4ff;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00d4ff, #0066ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .subtitle {
            color: #8c9eb5;
            font-size: 1.1rem;
        }
        
        .currency-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .currency-card {
            background: linear-gradient(145deg, #132842, #0e1e33);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid #1a3a5f;
            position: relative;
            overflow: hidden;
        }
        
        .currency-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 100, 255, 0.2);
            border-color: #0066ff;
        }
        
        .currency-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: #1a3a5f;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            flex-shrink: 0;
            overflow: hidden;
            border: 2px solid #2a4a6f;
        }
        
        .currency-icon img {
            width: 60%;
            height: 60%;
            object-fit: contain;
        }
        
        .currency-info {
            flex-grow: 1;
        }
        
        .currency-pair {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .currency-name {
            font-weight: bold;
            font-size: 1.2rem;
            color: #ffffff;
        }
        
        .currency-code {
            color: #8c9eb5;
            font-size: 0.9rem;
        }
        
        .currency-rate {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00ff9d;
            direction: ltr;
            text-align: left;
        }
        
        .currency-change {
            font-size: 0.9rem;
            color: #8c9eb5;
        }
        
        .currency-change.positive {
            color: #00ff9d;
        }
        
        .currency-change.negative {
            color: #ff4d4d;
        }
        
        .tradingview-logo {
            color: #00d4ff;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
        }
        
        .tradingview-logo i {
            margin-left: 5px;
        }
        
        .update-info {
            text-align: center;
            color: #8c9eb5;
            font-size: 0.9rem;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #1a3a5f;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #8c9eb5;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .currency-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            .currency-grid {
                grid-template-columns: 1fr;
            }
            
            .currency-card {
                padding: 15px;
            }
            
            .currency-rate {
                font-size: 1.5rem;
            }
        }
        
        .card-header {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, #00d4ff, #0066ff);
            border-radius: 12px 12px 0 0;
        }
        
        .currency-base {
            font-size: 0.9rem;
            color: #8c9eb5;
            margin-bottom: 5px;
        }
        
        .error-message {
            color: #ff6b6b;
            font-size: 0.8rem;
            text-align: center;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>أسعار العملات مقابل الدولار الأمريكي</h1>
            <p class="subtitle">عرض حي لأسعار الصرف مشابه لـ TradingView</p>
        </header>
        
        <div class="currency-grid" id="currencyGrid">
            <!-- سيتم إضافة العملات هنا بواسطة JavaScript -->
        </div>
        
        <div class="tradingview-logo">
            <i class="fas fa-chart-line"></i>
            تصميم مشابه لـ TradingView
        </div>
        
        <div class="update-info">
            <p>يتم تحديث الأسعار كل 60 ثانية | آخر تحديث: <span id="updateTime">الآن</span></p>
            <p id="imageStatus" class="error-message">جارٍ تحميل الصور...</p>
        </div>
        
        <div class="footer">
            <p>© 2023 عرض أسعار العملات | الصور من مستودع GitHub: jamalkatabeuro-sketch/My-website</p>
        </div>
    </div>

    <script>
        // بيانات العملات مع تصحيح أسماء الصور
        const currencies = [
            { code: "EUR", rate: 0.8588, name: "يورو", image: "100-currency-eurx.png", change: -0.12 },
            { code: "CAD", rate: 1.3578, name: "دولار كندي", image: "101-currency-cadx.png", change: 0.24 },
            { code: "GBP", rate: 0.7501, name: "جنيه إسترليني", image: "102-currency-gbpx.png", change: -0.08 },
            { code: "CHF", rate: 0.8041, name: "فرنك سويسري", image: "103-currency-chfx.png", change: 0.15 },
            { code: "AUD", rate: 1.50, name: "دولار أسترالي", image: "104-currency-audx.png", change: 0.32 },
            { code: "JPY", rate: 155.33, name: "ين ياباني", image: "105-currency-jpyx.png", change: -0.45 },
            { code: "KRW", rate: 1473.30, name: "وون كوري جنوبي", image: "106-currency-krwx.png", change: 12.5 },
            { code: "BRL", rate: 5.43, name: "ريال برازيلي", image: "107-currency-brlx.png", change: 0.18 },
            { code: "MXN", rate: 18.17, name: "بيزو مكسيكي", image: "108-currency-mxnx.png", change: -0.22 },
            { code: "TRY", rate: 42.46, name: "ليرة تركية", image: "109-currency-tryx.png", change: 0.85 },
            { code: "CNY", rate: 7.06, name: "يوان صيني", image: "110-currency-cnyx.png", change: 0.03 },
            { code: "MYR", rate: 4.10, name: "رينغيت ماليزي", image: "111-currency-myrx.png", change: -0.05 },
            { code: "RUB", rate: 76.50, name: "روبل روسي", image: "112-currency-rubx.png", change: 1.2 },
            { code: "MAD", rate: 9.22, name: "درهم مغربي", image: "113-currency-madx.png", change: 0.01 },
            { code: "EGP", rate: 47.51, name: "جنيه مصري", image: "114-currency-egbx.png", change: 0.32 },
            { code: "TND", rate: 2.95, name: "دينار تونسي", image: "115-currency-tndx.png", change: -0.02 },
            { code: "SAR", rate: 3.75, name: "ريال سعودي", image: "116-currency-sarx.png", change: 0.00 },
            { code: "QAR", rate: 3.64, name: "ريال قطري", image: "117-currency-qarx.png", change: 0.00 },
            { code: "AED", rate: 3.67, name: "درهم إماراتي", image: "118-currency-aed.png", change: 0.00 }
        ];
        
        // رابط قاعدة الصور على GitHub - تصحيح المسار
        // من الصورة التي أرسلتها، يبدو أن المستودع هو My-website تحت حساب jamalkatabeuro-sketch
        const githubRepo = "jamalkatabeuro-sketch/My-website";
        const imageBaseUrl = `https://raw.githubusercontent.com/${githubRepo}/main/`;
        
        // دالة للتحقق من تحميل الصور
        function checkImageLoad(imageUrl) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve(true);
                img.onerror = () => resolve(false);
                img.src = imageUrl;
            });
        }
        
        // دالة لإنشاء بطاقة عملة مع التحقق من الصور
        async function createCurrencyCard(currency) {
            const changeClass = currency.change >= 0 ? "positive" : "negative";
            const changeSign = currency.change >= 0 ? "+" : "";
            const imageUrl = imageBaseUrl + currency.image;
            
            // التحقق مما إذا كانت الصورة موجودة
            const imageExists = await checkImageLoad(imageUrl);
            
            let imageHtml;
            if (imageExists) {
                imageHtml = `<img src="${imageUrl}" alt="${currency.name}" onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"50\" viewBox=\"0 0 50 50\"><circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"%232a4a6f\"/><text x=\"25\" y=\"30\" text-anchor=\"middle\" fill=\"%23ffffff\" font-size=\"16\">${currency.code}</text></svg>'">`;
            } else {
                // استخدام بديل إذا لم تتحمل الصورة
                imageHtml = `<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background-color: #2a4a6f; border-radius: 50%; color: white; font-weight: bold; font-size: 16px;">${currency.code}</div>`;
            }
            
            return `
                <div class="currency-card">
                    <div class="card-header"></div>
                    <div class="currency-icon">
                        ${imageHtml}
                    </div>
                    <div class="currency-info">
                        <div class="currency-pair">
                            <div>
                                <div class="currency-base">1 USD =</div>
                                <div class="currency-name">${currency.name}</div>
                                <div class="currency-code">${currency.code}</div>
                            </div>
                        </div>
                        <div class="currency-rate">${currency.rate.toLocaleString()}</div>
                        <div class="currency-change ${changeClass}">
                            <i class="fas fa-${currency.change >= 0 ? 'caret-up' : 'caret-down'}"></i>
                            ${changeSign}${currency.change}%
                        </div>
                    </div>
                </div>
            `;
        }
        
        // دالة لتحديث وقت التحديث
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-EG', { 
                hour: '2-digit', 
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('updateTime').textContent = timeString;
        }
        
        // دالة لمحاكاة تغييرات عشوائية في الأسعار (للتجربة)
        function simulatePriceChanges() {
            currencies.forEach(currency => {
                // تغيير عشوائي بسيط في السعر للتجربة
                const randomChange = (Math.random() - 0.5) * 0.1;
                currency.rate += currency.rate * randomChange;
                currency.rate = parseFloat(currency.rate.toFixed(4));
                
                // تحديث نسبة التغيير
                currency.change += (Math.random() - 0.5) * 0.1;
                currency.change = parseFloat(currency.change.toFixed(2));
            });
            
            renderCurrencies();
            updateTime();
        }
        
        // دالة لعرض جميع العملات مع التحقق من الصور
        async function renderCurrencies() {
            const currencyGrid = document.getElementById('currencyGrid');
            const imageStatus = document.getElementById('imageStatus');
            
            let loadedImages = 0;
            let totalImages = currencies.length;
            
            let cardsHTML = '';
            
            for (const currency of currencies) {
                const cardHTML = await createCurrencyCard(currency);
                cardsHTML += cardHTML;
                loadedImages++;
                
                // تحديث حالة التحميل
                imageStatus.textContent = `جارٍ تحميل الصور: ${loadedImages}/${totalImages}`;
            }
            
            currencyGrid.innerHTML = cardsHTML;
            
            if (loadedImages === totalImages) {
                imageStatus.textContent = "✓ تم تحميل جميع الصور بنجاح";
                imageStatus.style.color = "#00ff9d";
            } else {
                imageStatus.textContent = `تم تحميل ${loadedImages} من أصل ${totalImages} صورة`;
                imageStatus.style.color = "#ffa726";
            }
        }
        
        // تهيئة الصفحة عند التحميل
        document.addEventListener('DOMContentLoaded', async function() {
            await renderCurrencies();
            updateTime();
            
            // تحديث الأسعار كل 60 ثانية
            setInterval(simulatePriceChanges, 60000);
            
            // تحديث الوقت كل ثانية
            setInterval(updateTime, 1000);
        });
    </script>
</body>
</html>
